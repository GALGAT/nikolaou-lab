---
layout: default
title: Contact
---

<div class="page-header">
    <h2>Contact</h2>
</div>

<div class="contact-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem;">
    
    <div class="contact-info">
        <section style="margin-bottom: 2.5rem;">
            <h3>Applying for an Open Position</h3>
            <p style="font-size: 0.95rem; line-height: 1.6; margin-bottom: 1rem;">
                If you are interested in joining our lab, please provide the following:
            </p>
            <ul style="font-size: 0.9rem; line-height: 1.6; color: var(--text-light); padding-left: 1.2rem;">
                <li>Personal information and relevant websites</li>
                <li>CV/Resume (Attach as a PDF)</li>
                <li>List of Publications & Conference Presentations (if applicable)</li>
                <li>Brief description of research interests and relevant experience</li>
            </ul>
        </section>

        <section>
            <h3>General Inquiries</h3>
            <p style="font-size: 0.95rem; line-height: 1.6; color: var(--text-light);">
                For any other questions about our research, collaborations, or opportunities, please provide clear details about your request.
            </p>
        </section>
    </div>

    <div class="contact-form-container">
        <form action="https://formspree.io/f/your-form-id" method="POST" enctype="multipart/form-data" class="lab-form">
            
            <div class="form-group">
                <label>First Name *</label>
                <input type="text" name="first_name" placeholder="Enter your first name" required>
            </div>

            <div class="form-group">
                <label>Email Address *</label>
                <input type="email" name="_replyto" placeholder="Enter your email address" required>
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" name="phone" placeholder="Optional">
            </div>

            <div class="form-group">
                <label>Message (Max 180 characters)</label>
                <textarea name="message" maxlength="180" rows="4" onkeyup="updateCharCount(this)" placeholder="Provide clear details about your request"></textarea>
                <div class="char-counter"><span id="charNum">0</span> / 180</div>
            </div>

            <div class="form-group">
                <label>Upload File</label>
                <input type="file" name="upload" accept=".pdf">
            </div>

            <button type="submit" class="btn" style="width: 100%;">Send Message</button>

            <p style="font-size: 0.8rem; margin-top: 1.2rem; color: var(--text-light); line-height: 1.4;">
                <strong>Note:</strong> All uploaded documents must be in PDF format. We will review submissions as soon as possible and respond accordingly.
            </p>
        </form>
    </div>
</div>

<div id="thanksModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <span class="modal-icon">✉️</span>
        <h3 id="thanksTitle">Thank you!</h3> 
        <p id="thanksMessage">Thank you for your interest in our lab! We will contact you shortly.</p>
        <p style="font-size: 0.8rem; color: #999; margin-top: 1rem;">Redirecting to home in 5 seconds...</p>
        <button onclick="closeModal()" class="btn">Close</button>
    </div>
</div>

<script>
    const contactForm = document.querySelector('.lab-form');
    const modal = document.getElementById('thanksModal');
    const thanksTitle = document.getElementById('thanksTitle');
    let redirectTimer;

    // Handle form submission via AJAX
    contactForm.onsubmit = async (e) => {
        e.preventDefault();

        const btn = contactForm.querySelector('button');
        const originalText = btn.innerText;
        btn.innerText = "Sending...";
        btn.disabled = true;

        const formData = new FormData(contactForm);
        const name = formData.get('first_name'); // Capture name for personalization

        try {
            const response = await fetch(contactForm.action, {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            });

            if (response.ok) {
                // Show personalized popup
                thanksTitle.innerText = `Thank you, ${name}, for reaching out!`;
                modal.style.display = 'flex';
                
                // Reset form and counter
                contactForm.reset();
                document.getElementById("charNum").innerHTML = "0";

                // Auto-redirect to Home after 5 seconds
                redirectTimer = setTimeout(() => {
                    window.location.href = "{{ '/' | relative_url }}";
                }, 5000);
            } else {
                alert("Oops! There was a problem submitting your form.");
            }
        } catch (error) {
            alert("Error connecting to the server. Please check your connection.");
        } finally {
            btn.innerText = originalText;
            btn.disabled = false;
        }
    };

    // Close modal and cancel the auto-redirect
    function closeModal() {
        modal.style.display = 'none';
        clearTimeout(redirectTimer);
    }

    // Live character counter logic
    function updateCharCount(obj) {
        document.getElementById("charNum").innerHTML = obj.value.length;
    }
</script>
