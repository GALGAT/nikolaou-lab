---
layout: default
title: Publications
---
<div class="page-header">
    <h2>Selected Publications</h2>
</div>

<div class="search-stats" style="margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text-light);">
    Showing <span id="visibleCount">{{ site.data.publications.size }}</span> of {{ site.data.publications.size }} publications
</div>

<div class="search-container" style="position: relative; display: flex; align-items: center;">
    <input type="text" id="pubSearch" placeholder="Search publications by title, author, or year..." onkeyup="filterPublications()" style="width: 100%;">
    <button id="clearSearch" onclick="clearSearch()" style="position: absolute; right: 10px; background: none; border: none; cursor: pointer; color: #999; display: none; font-size: 1.2rem;">&times;</button>
</div>

<ul class="pub-list" id="publicationsList">
  {% assign sorted_pubs = site.data.publications | sort: 'year' | reverse %}
  
  {% for pub in sorted_pubs %}
    <li class="publication-item">
      {{ pub.author }}, {{ pub.title }}. <em>{{ pub.journal }}</em>.
      {% if pub.url %}
        <a href="{{ pub.url }}" target="_blank" class="pub-link">[View on Google Scholar]</a>
      {% endif %}
    </li>
  {% else %}
    <li><em>Publications are currently being fetched by our automated system. Please check back shortly!</em></li>
  {% endfor %}
  
  <li id="noResultsMessage" style="display: none; list-style: none; color: var(--text-light); padding: 1rem;">
    No publications found matching your search.
  </li>
</ul>

<script>
function filterPublications() {
    const searchTerm = document.getElementById('pubSearch').value.toLowerCase();
    const listItems = document.querySelectorAll('#publicationsList .publication-item');
    const visibleCountSpan = document.getElementById('visibleCount');
    const clearBtn = document.getElementById('clearSearch');
    const noResults = document.getElementById('noResultsMessage');
    
    let visibleCount = 0;

    // Toggle the clear button visibility
    clearBtn.style.display = searchTerm.length > 0 ? "block" : "none";
    
    listItems.forEach(function(item) {
        const textValue = item.textContent || item.innerText;
        if (textValue.toLowerCase().includes(searchTerm)) {
            item.style.display = ""; 
            visibleCount++;
        } else {
            item.style.display = "none";
        }
    });

    // Update the counter
    visibleCountSpan.textContent = visibleCount;

    // Show message if zero results
    noResults.style.display = (visibleCount === 0 && searchTerm !== "") ? "block" : "none";
}

// Function to reset the search bar
function clearSearch() {
    const searchInput = document.getElementById('pubSearch');
    searchInput.value = "";
    filterPublications();
    searchInput.focus();
}
</script>
